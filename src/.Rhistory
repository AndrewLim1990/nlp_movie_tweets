sum(1,2,3)
sum(1,2,3,5,4,2,3,4,3,2,2)
library(lubridate)
library(tidyverse)
library(tidytext)
conform_weight <- 0.4
favorite_weight <- 0.1
retweet_weight <- 0.1
time_diff_now_weight <- 0.4
assert_that(sum(conform_weight, favorite_weight, retweet_weight, time_diff_now_weight) == 1)
library(assertthat)
assert_that(sum(conform_weight, favorite_weight, retweet_weight, time_diff_now_weight) == 1)
tweets <- read.csv("../data/candidate_tweets.csv")
tweets
cleaned_tweet_words <- clean_tweets(tweets)
clean_tweets <- function(tweets) {
# Coerce the tweet text from factor to character,
# so that the text can be split into words.
tweets$text <- as.character(tweets$text)
# Get one word per row.
tidy_tweet_words <- tweets %>%
unnest_tokens(word, text)
# Clean out highly common and uninformative words.
cleaned_tweet_words <- tidy_tweet_words %>%
# Remove stop words.
anti_join(stop_words) %>%
# Remove html and retweet tokens.
filter(word != "https",
word != "t.co",
word != "rt")
return(cleaned_tweet_words)
}
cleaned_tweet_words <- clean_tweets(tweets)
cleaned_tweet_words
?tryCatch
?percent_rank
??percent_rank
?case_when
??case_when
sum(c(0,2,3,4))
?rbind
?strftime
?write.csv
test <- read.csv("../data/previous_notif_tweets.csv")
str(test)
previous_notif_tweets <- read.csv("../data/previous_notif_tweets.csv")
previous_notif_tweets
previous_notif_tweets %>%
mutate(time_diff_prev_notif = as.numeric(time_now - parse_date_time(notif_time, "Ymd HMS")))
library(tidyverse)
library(lubridate)
time_diff_prev_notif <- previous_notif_tweets %>%
mutate(time_diff_prev_notif = as.numeric(time_now - parse_date_time(notif_time, "Ymd HMS"))) %>%
select(time_diff_prev_notif) %>%
min()
time_now <- now("UTC")
time_diff_prev_notif <- previous_notif_tweets %>%
mutate(time_diff_prev_notif = as.numeric(time_now - parse_date_time(notif_time, "Ymd HMS"))) %>%
select(time_diff_prev_notif) #%>%
time_diff_prev_notif
time_now
time_now
time_now - parse_date_time(previous_notif_tweets$notif_time[1], "Ymd HMS")
previous_notif_tweets$notif_time[1]
strftime(time_now, format = "%Y-%m-%d %H:%M:%S")
time_now
?strftime
previous_notif_tweets <- read.csv("../data/previous_notif_tweets.csv")
time_diff_prev_notif <- previous_notif_tweets %>%
mutate(time_diff_prev_notif = as.numeric(time_now - parse_date_time(notif_time, "Ymd HMS"))) %>%
select(time_diff_prev_notif) #%>%
time_diff_prev_notif
time_now - parse_date_time(previous_notif_tweets$notif_time[1], "Ymd HMS")
as.numeric(time_now - parse_date_time(previous_notif_tweets$notif_time[1], "Ymd HMS"))
?difftime
?suppressMessages
?suppressWarnings
